<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <title>Asih Dwipa Incense - Price Katalog</title>

  <!-- Mobile viewport -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- SEO Meta -->
  <meta name="description" content="Asih Dwipa Incense - Katalog harga dupa dengan aroma wangi yang menenangkan. Lihat koleksi varian dupa dan harga dalam satu halaman yang mudah di-scroll di smartphone Anda." />

  <!-- Open Graph -->
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Asih Dwipa Incense - Price Katalog" />
  <meta property="og:description" content="Katalog dupa wangi Asih Dwipa Incense. Lihat berbagai varian dan harga dalam satu halaman yang praktis di smartphone Anda." />
  <meta property="og:image" content="image/1.png" />
  <meta property="og:url" content="" />

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Asih Dwipa Incense - Price Katalog" />
  <meta name="twitter:description" content="Katalog dupa wangi Asih Dwipa Incense dengan tampilan yang simple dan mudah di-scroll di layar HP." />
  <meta name="twitter:image" content="image/1.png" />

  <!-- Google Fonts: Open Sans -->
  <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600&display=swap" rel="stylesheet" />

  <style>
    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      padding: 0;
      background-color: #ffffff;
      font-family: 'Open Sans', sans-serif;
      color: #111827;
    }

    .page-wrapper {
      max-width: 600px;
      margin: 0 auto;
    }

    header {
      padding: 16px 12px;
      text-align: center;
      position: sticky;
      top: 0;
      z-index: 10;
      background: white;
      border-bottom: 1px solid #e5e7eb;
    }

    header h1 {
      margin: 0;
      font-size: 1.2rem;
      font-weight: 600;
    }

    header p {
      margin: 4px 0 0;
      font-size: 0.9rem;
      color: #6b7280;
    }

    .gallery {
      padding: 12px 0 72px; /* ruang untuk tombol Back to Top */
    }

    .gallery-item {
      padding: 8px 12px;
      position: relative;
    }

    .gallery-item img {
      display: block;
      width: 100vh;         /* sesuai permintaan */
      max-width: 100%;
      height: auto;
      border-radius: 8px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
      margin: 0 auto;
      touch-action: manipulation;
    }

    .image-indicator {
      position: absolute;
      left: 20px;
      top: 20px;
      background: rgba(17, 24, 39, 0.85);
      color: #f9fafb;
      padding: 4px 10px;
      border-radius: 999px;
      font-size: 0.75rem;
      font-weight: 600;
      opacity: 0;
      transition: opacity 0.15s ease-out;
      pointer-events: none;
    }

    .image-indicator.visible {
      opacity: 1;
    }

    .back-to-top {
      position: fixed;
      right: 16px;
      bottom: 16px;
      padding: 10px 14px;
      font-size: 0.85rem;
      border-radius: 999px;
      border: 1px solid #e5e7eb;
      background: #ffffff;
      cursor: pointer;
      box-shadow: 0 4px 10px rgba(0,0,0,0.15);
      font-family: 'Open Sans', sans-serif;
      z-index: 60;
    }

    .back-to-top:hover {
      background: #f3f4f6;
    }

    /* Modal fullscreen */
    .modal {
      position: fixed;
      inset: 0;
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 50;
    }

    .modal.show {
      display: flex;
    }

    .modal-backdrop {
      position: absolute;
      inset: 0;
      background: rgba(0, 0, 0, 0.7);
    }

    .modal-content {
      position: relative;
      width: 100%;
      height: 100%;
      max-width: 100%;
      max-height: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
    }

    #modalImage {
      max-width: 100%;
      max-height: 100%;
      touch-action: none; /* kita handle pinch & pan sendiri */
      transform-origin: center center;
    }

    .modal-close {
      position: absolute;
      top: 16px;
      right: 16px;
      width: 36px;
      height: 36px;
      border-radius: 999px;
      border: none;
      background: rgba(17,24,39,0.75);
      color: #f9fafb;
      font-size: 1.4rem;
      line-height: 1;
      cursor: pointer;
    }

    .modal-indicator {
      position: absolute;
      left: 16px;
      top: 16px;
      background: rgba(17, 24, 39, 0.85);
      color: #f9fafb;
      padding: 4px 10px;
      border-radius: 999px;
      font-size: 0.8rem;
      font-weight: 600;
    }
	
	footer {
      max-width: 600px; margin: 40px auto 16px; padding-left: 12px;
      font-size: 0.85rem; color: #6b7280;
    }
    footer a { color: #6b7280; text-decoration: none; }
    footer a:hover { text-decoration: underline; }
	
  </style>
</head>
<body>
  <div class="page-wrapper" id="top">
    <header>
      <h1>Asih Dwipa Incense - Price Katalog</h1>
      <p>Katalog dupa wangi Asih Dwipa Incense</p>
    </header>

    <main class="gallery">
      <!-- Gambar 1â€“15 dengan indikator (muncul hanya saat long press) -->
      <div class="gallery-item">
        <span class="image-indicator">1 / 15</span>
        <img src="image/1.png" alt="Asih Dwipa Incense katalog 1" loading="lazy" data-index="1" />
      </div>
      <div class="gallery-item">
        <span class="image-indicator">2 / 15</span>
        <img src="image/2.png" alt="Asih Dwipa Incense katalog 2" loading="lazy" data-index="2" />
      </div>
      <div class="gallery-item">
        <span class="image-indicator">3 / 15</span>
        <img src="image/3.png" alt="Asih Dwipa Incense katalog 3" loading="lazy" data-index="3" />
      </div>
      <div class="gallery-item">
        <span class="image-indicator">4 / 15</span>
        <img src="image/4.png" alt="Asih Dwipa Incense katalog 4" loading="lazy" data-index="4" />
      </div>
      <div class="gallery-item">
        <span class="image-indicator">5 / 15</span>
        <img src="image/5.png" alt="Asih Dwipa Incense katalog 5" loading="lazy" data-index="5" />
      </div>
      <div class="gallery-item">
        <span class="image-indicator">6 / 15</span>
        <img src="image/6.png" alt="Asih Dwipa Incense katalog 6" loading="lazy" data-index="6" />
      </div>
      <div class="gallery-item">
        <span class="image-indicator">7 / 15</span>
        <img src="image/7.png" alt="Asih Dwipa Incense katalog 7" loading="lazy" data-index="7" />
      </div>
      <div class="gallery-item">
        <span class="image-indicator">8 / 15</span>
        <img src="image/8.png" alt="Asih Dwipa Incense katalog 8" loading="lazy" data-index="8" />
      </div>
      <div class="gallery-item">
        <span class="image-indicator">9 / 15</span>
        <img src="image/9.png" alt="Asih Dwipa Incense katalog 9" loading="lazy" data-index="9" />
      </div>
      <div class="gallery-item">
        <span class="image-indicator">10 / 15</span>
        <img src="image/10.png" alt="Asih Dwipa Incense katalog 10" loading="lazy" data-index="10" />
      </div>
      <div class="gallery-item">
        <span class="image-indicator">11 / 15</span>
        <img src="image/11.png" alt="Asih Dwipa Incense katalog 11" loading="lazy" data-index="11" />
      </div>
      <div class="gallery-item">
        <span class="image-indicator">12 / 15</span>
        <img src="image/12.png" alt="Asih Dwipa Incense katalog 12" loading="lazy" data-index="12" />
      </div>
      <div class="gallery-item">
        <span class="image-indicator">13 / 15</span>
        <img src="image/13.png" alt="Asih Dwipa Incense katalog 13" loading="lazy" data-index="13" />
      </div>
      <div class="gallery-item">
        <span class="image-indicator">14 / 15</span>
        <img src="image/14.png" alt="Asih Dwipa Incense katalog 14" loading="lazy" data-index="14" />
      </div>
      <div class="gallery-item">
        <span class="image-indicator">15 / 15</span>
        <img src="image/15.png" alt="Asih Dwipa Incense katalog 15" loading="lazy" data-index="15" />
      </div>
    </main>
  </div>
  
  <footer>
    <a href="https://gungsatya.github.io" target="_blank" rel="noopener">Vibe code by Gung Satya</a>
  </footer>

  <!-- Tombol Back to Top -->
  <button class="back-to-top" onclick="window.scrollTo({ top: 0, behavior: 'smooth' });">
    Back to Top
  </button>

  <!-- Modal fullscreen untuk zoom -->
  <div class="modal" id="imageModal">
    <div class="modal-backdrop" id="modalBackdrop"></div>
    <div class="modal-content">
      <span class="modal-indicator" id="modalIndicator">1 / 15</span>
      <img id="modalImage" src="" alt="Preview katalog" />
      <button class="modal-close" id="modalClose" aria-label="Tutup">&times;</button>
    </div>
  </div>

  <script>
    // --- Long press indicator + double tap to open modal ---
    (function() {
      const images = document.querySelectorAll('.gallery-item img');
      const LONG_PRESS_DELAY = 500; // ms
      const DOUBLE_TAP_DELAY = 300; // ms

      const modal = document.getElementById('imageModal');
      const modalImg = document.getElementById('modalImage');
      const modalIndicator = document.getElementById('modalIndicator');
      const modalBackdrop = document.getElementById('modalBackdrop');
      const modalClose = document.getElementById('modalClose');

      let currentIndex = 1;

      // Transform state for pinch & pan
      let currentScale = 1;
      let currentX = 0;
      let currentY = 0;
      let startX = 0;
      let startY = 0;
      let initialScale = 1;
      let initialDistance = 0;
      let isPanning = false;

      function applyTransform() {
        modalImg.style.transform = 'translate(' + currentX + 'px,' + currentY + 'px) scale(' + currentScale + ')';
      }

      function resetTransform() {
        currentScale = 1;
        currentX = 0;
        currentY = 0;
        applyTransform();
      }

      function getDistance(t1, t2) {
        const dx = t2.clientX - t1.clientX;
        const dy = t2.clientY - t1.clientY;
        return Math.sqrt(dx * dx + dy * dy);
      }

      function openModal(src, index) {
        currentIndex = index;
        modalImg.src = src;
        modalIndicator.textContent = index + ' / 15';
        resetTransform();
        modal.classList.add('show');
      }

      function closeModal() {
        modal.classList.remove('show');
      }

      modalBackdrop.addEventListener('click', closeModal);
      modalClose.addEventListener('click', closeModal);
      document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape') {
          closeModal();
        }
      });

      // Pinch dan pan di dalam modal
      modalImg.addEventListener('touchstart', function(e) {
        if (e.touches.length === 2) {
          e.preventDefault();
          initialDistance = getDistance(e.touches[0], e.touches[1]);
          initialScale = currentScale;
        } else if (e.touches.length === 1 && currentScale > 1) {
          e.preventDefault();
          isPanning = true;
          startX = e.touches[0].clientX - currentX;
          startY = e.touches[0].clientY - currentY;
        }
      }, { passive: false });

      modalImg.addEventListener('touchmove', function(e) {
        if (e.touches.length === 2) {
          e.preventDefault();
          const newDistance = getDistance(e.touches[0], e.touches[1]);
          let scale = initialScale * (newDistance / initialDistance);
          // batasi zoom
          if (scale < 1) scale = 1;
          if (scale > 4) scale = 4;
          currentScale = scale;
          applyTransform();
        } else if (e.touches.length === 1 && isPanning) {
          e.preventDefault();
          currentX = e.touches[0].clientX - startX;
          currentY = e.touches[0].clientY - startY;
          applyTransform();
        }
      }, { passive: false });

      modalImg.addEventListener('touchend', function(e) {
        if (e.touches.length === 0) {
          isPanning = false;
        }
      });

      images.forEach(function(img) {
        const item = img.closest('.gallery-item');
        const indicator = item.querySelector('.image-indicator');
        let longPressTimer = null;
        let lastTapTime = 0;

        function showIndicator() {
          if (indicator) {
            indicator.classList.add('visible');
          }
        }

        function hideIndicator() {
          if (indicator) {
            indicator.classList.remove('visible');
          }
        }

        img.addEventListener('touchstart', function(e) {
          if (e.touches.length > 1) return; // abaikan multi-touch di thumbnail
          longPressTimer = setTimeout(showIndicator, LONG_PRESS_DELAY);
        }, { passive: true });

        function endTouchHandler(e) {
          clearTimeout(longPressTimer);
          hideIndicator();

          // Deteksi double tap
          const now = Date.now();
          if (now - lastTapTime < DOUBLE_TAP_DELAY) {
            const index = parseInt(img.getAttribute('data-index') || '1', 10);
            openModal(img.src, index);
          }
          lastTapTime = now;
        }

        img.addEventListener('touchend', endTouchHandler);
        img.addEventListener('touchcancel', function() {
          clearTimeout(longPressTimer);
          hideIndicator();
        });

        // Optional: dukung double click di desktop
        img.addEventListener('dblclick', function(e) {
          e.preventDefault();
          const index = parseInt(img.getAttribute('data-index') || '1', 10);
          openModal(img.src, index);
        });
      });
    })();
  </script>
</body>
</html>
