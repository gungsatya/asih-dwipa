<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <title>Asih Dwipa Incense - Price Katalog</title>

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Asih Dwipa Incense - Katalog harga dupa dengan aroma wangi yang menenangkan. Lihat koleksi varian dupa dan harga dalam satu halaman yang mudah di-scroll di smartphone Anda." />

  <!-- Open Graph -->
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Asih Dwipa Incense - Price Katalog" />
  <meta property="og:description" content="Katalog dupa wangi Asih Dwipa Incense. Lihat berbagai varian dan harga dalam satu halaman yang praktis di smartphone Anda." />
  <meta property="og:image" content="image/1.png" />

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600&display=swap" rel="stylesheet" />

  <style>
    * { box-sizing: border-box; }

    body {
      margin: 0;
      background: #fff;
      font-family: 'Open Sans', sans-serif;
      color: #111827;
    }

    header {
      text-align: center;
      padding: 16px 12px;
      position: sticky;
      top: 0;
      background: #fff;
      border-bottom: 1px solid #e5e7eb;
      z-index: 10;
    }
    header h1 { margin: 0; font-size: 1.2rem; font-weight: 600; }
    header p { margin: 4px 0 0; color: #6b7280; font-size: 0.9rem; }

    .gallery {
      padding: 12px 0 72px;
      max-width: 600px;
      margin: 0 auto;
    }

    .gallery-item {
      position: relative;
      padding: 8px 12px;
    }

    .gallery-item img {
      width: 100vh;        /* sesuai permintaan */
      max-width: 100%;
      height: auto;
      border-radius: 8px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.15);
      display: block;
      margin: 0 auto;
      touch-action: manipulation;
    }

    .image-indicator {
      position: absolute;
      left: 20px;
      top: 20px;
      background: rgba(17,24,39,.85);
      color: #fff;
      padding: 4px 10px;
      border-radius: 999px;
      font-size: 0.75rem;
      font-weight: 600;
      opacity: 0;
      pointer-events: none;
      transition: opacity .15s;
    }
    .image-indicator.visible { opacity: 1; }

    .zoom-btn {
      position: absolute;
      right: 24px;
      bottom: 24px;
      width: 32px;
      height: 32px;
      border-radius: 999px;
      border: none;
      background: rgba(17,24,39,0.85);
      color: #fff;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1rem;
      cursor: pointer;
    }

    .back-to-top {
      position: fixed;
      right: 16px;
      bottom: 16px;
      padding: 10px 14px;
      border-radius: 999px;
      border: 1px solid #e5e7eb;
      background: #fff;
      cursor: pointer;
      box-shadow: 0 4px 10px rgba(0,0,0,.15);
      font-size: .85rem;
      z-index: 60;
      opacity: 0;
      pointer-events: none;
      transform: translateY(8px);
      transition: opacity .2s, transform .2s;
    }
    .back-to-top.visible {
      opacity: 1;
      pointer-events: auto;
      transform: translateY(0);
    }

    .modal {
      position: fixed;
      inset: 0;
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 50;
    }
    .modal.show { display: flex; }
    .modal-backdrop {
      position: absolute;
      inset: 0;
      background: rgba(0,0,0,.7);
    }
    .modal-content {
      position: relative;
      width: 100%;
      height: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
    }
    #modalImage {
      max-width: 100%;
      max-height: 100%;
      touch-action: none;
      transform-origin: center center;
    }
    .modal-close {
      position: absolute;
      top: 16px;
      right: 16px;
      width: 36px;
      height: 36px;
      border-radius: 999px;
      border: none;
      background: rgba(17,24,39,.75);
      color: #fff;
      font-size: 1.4rem;
      cursor: pointer;
    }
    .modal-indicator {
      position: absolute;
      left: 16px;
      top: 16px;
      background: rgba(17,24,39,.85);
      color: #fff;
      padding: 4px 10px;
      border-radius: 999px;
      font-size: .8rem;
      font-weight: 600;
    }

    footer {
      max-width: 600px;
      margin: 40px auto 16px;
      padding-left: 12px;
      font-size: 0.85rem;
      color: #6b7280;
    }
    footer a { color: #6b7280; text-decoration: none; }
    footer a:hover { text-decoration: underline; }
  </style>
</head>
<body>
  <header>
    <h1>Asih Dwipa Incense - Price Katalog</h1>
    <p>Katalog dupa wangi Asih Dwipa Incense</p>
  </header>

  <main class="gallery">
    <!-- Gambar 1–15 -->
    <div class="gallery-item">
      <span class="image-indicator">1 / 15</span>
      <img src="image/1.png" alt="Asih Dwipa Incense katalog 1" loading="lazy" data-index="1" />
      <button class="zoom-btn" type="button" aria-label="Perbesar gambar 1">⤢</button>
    </div>
    <div class="gallery-item">
      <span class="image-indicator">2 / 15</span>
      <img src="image/2.png" alt="Asih Dwipa Incense katalog 2" loading="lazy" data-index="2" />
      <button class="zoom-btn" type="button" aria-label="Perbesar gambar 2">⤢</button>
    </div>
    <div class="gallery-item">
      <span class="image-indicator">3 / 15</span>
      <img src="image/3.png" alt="Asih Dwipa Incense katalog 3" loading="lazy" data-index="3" />
      <button class="zoom-btn" type="button" aria-label="Perbesar gambar 3">⤢</button>
    </div>
    <div class="gallery-item">
      <span class="image-indicator">4 / 15</span>
      <img src="image/4.png" alt="Asih Dwipa Incense katalog 4" loading="lazy" data-index="4" />
      <button class="zoom-btn" type="button" aria-label="Perbesar gambar 4">⤢</button>
    </div>
    <div class="gallery-item">
      <span class="image-indicator">5 / 15</span>
      <img src="image/5.png" alt="Asih Dwipa Incense katalog 5" loading="lazy" data-index="5" />
      <button class="zoom-btn" type="button" aria-label="Perbesar gambar 5">⤢</button>
    </div>
    <div class="gallery-item">
      <span class="image-indicator">6 / 15</span>
      <img src="image/6.png" alt="Asih Dwipa Incense katalog 6" loading="lazy" data-index="6" />
      <button class="zoom-btn" type="button" aria-label="Perbesar gambar 6">⤢</button>
    </div>
    <div class="gallery-item">
      <span class="image-indicator">7 / 15</span>
      <img src="image/7.png" alt="Asih Dwipa Incense katalog 7" loading="lazy" data-index="7" />
      <button class="zoom-btn" type="button" aria-label="Perbesar gambar 7">⤢</button>
    </div>
    <div class="gallery-item">
      <span class="image-indicator">8 / 15</span>
      <img src="image/8.png" alt="Asih Dwipa Incense katalog 8" loading="lazy" data-index="8" />
      <button class="zoom-btn" type="button" aria-label="Perbesar gambar 8">⤢</button>
    </div>
    <div class="gallery-item">
      <span class="image-indicator">9 / 15</span>
      <img src="image/9.png" alt="Asih Dwipa Incense katalog 9" loading="lazy" data-index="9" />
      <button class="zoom-btn" type="button" aria-label="Perbesar gambar 9">⤢</button>
    </div>
    <div class="gallery-item">
      <span class="image-indicator">10 / 15</span>
      <img src="image/10.png" alt="Asih Dwipa Incense katalog 10" loading="lazy" data-index="10" />
      <button class="zoom-btn" type="button" aria-label="Perbesar gambar 10">⤢</button>
    </div>
    <div class="gallery-item">
      <span class="image-indicator">11 / 15</span>
      <img src="image/11.png" alt="Asih Dwipa Incense katalog 11" loading="lazy" data-index="11" />
      <button class="zoom-btn" type="button" aria-label="Perbesar gambar 11">⤢</button>
    </div>
    <div class="gallery-item">
      <span class="image-indicator">12 / 15</span>
      <img src="image/12.png" alt="Asih Dwipa Incense katalog 12" loading="lazy" data-index="12" />
      <button class="zoom-btn" type="button" aria-label="Perbesar gambar 12">⤢</button>
    </div>
    <div class="gallery-item">
      <span class="image-indicator">13 / 15</span>
      <img src="image/13.png" alt="Asih Dwipa Incense katalog 13" loading="lazy" data-index="13" />
      <button class="zoom-btn" type="button" aria-label="Perbesar gambar 13">⤢</button>
    </div>
    <div class="gallery-item">
      <span class="image-indicator">14 / 15</span>
      <img src="image/14.png" alt="Asih Dwipa Incense katalog 14" loading="lazy" data-index="14" />
      <button class="zoom-btn" type="button" aria-label="Perbesar gambar 14">⤢</button>
    </div>
    <div class="gallery-item">
      <span class="image-indicator">15 / 15</span>
      <img src="image/15.png" alt="Asih Dwipa Incense katalog 15" loading="lazy" data-index="15" />
      <button class="zoom-btn" type="button" aria-label="Perbesar gambar 15">⤢</button>
    </div>
  </main>

  <footer>
    <a href="https://gungsatya.github.io" target="_blank" rel="noopener">Vibe code by Gung Satya</a>
  </footer>

  <button class="back-to-top" onclick="window.scrollTo({top:0,behavior:'smooth'});">
    Back to Top
  </button>

  <!-- Modal -->
  <div class="modal" id="imageModal">
    <div class="modal-backdrop" id="modalBackdrop"></div>
    <div class="modal-content">
      <span class="modal-indicator" id="modalIndicator">1 / 15</span>
      <img id="modalImage" src="" alt="Preview katalog" />
      <button class="modal-close" id="modalClose">&times;</button>
    </div>
  </div>

  <script>
  (function(){
    const imgs = document.querySelectorAll('.gallery-item img');
    const items = document.querySelectorAll('.gallery-item');
    const backToTopBtn = document.querySelector('.back-to-top');
    const firstItem = items[0];

    const modal = document.getElementById('imageModal');
    const modalImg = document.getElementById('modalImage');
    const modalIndicator = document.getElementById('modalIndicator');
    const modalBackdrop = document.getElementById('modalBackdrop');
    const modalClose = document.getElementById('modalClose');

    let curScale=1, curX=0, curY=0, startX=0, startY=0, initScale=1, initDist=0, isPan=false;

    const apply = () => {
      modalImg.style.transform = `translate(${curX}px,${curY}px) scale(${curScale})`;
    };
    const reset = () => {
      curScale = 1;
      curX = 0;
      curY = 0;
      apply();
    };
    const dist = (t1,t2) => Math.hypot(t2.clientX - t1.clientX, t2.clientY - t1.clientY);

    function openModal(src, index){
      modalImg.src = src;
      modalIndicator.textContent = `${index} / 15`;
      reset();
      modal.classList.add('show');
    }
    function closeModal(){ modal.classList.remove('show'); }

    modalBackdrop.addEventListener('click', closeModal);
    modalClose.addEventListener('click', closeModal);
    document.addEventListener('keydown', e => { if(e.key === 'Escape') closeModal(); });

    // Pinch & pan di modal
    modalImg.addEventListener('touchstart', e => {
      if (e.touches.length === 2) {
        e.preventDefault();
        initDist = dist(e.touches[0], e.touches[1]);
        initScale = curScale;
      } else if (e.touches.length === 1 && curScale > 1) {
        isPan = true;
        startX = e.touches[0].clientX - curX;
        startY = e.touches[0].clientY - curY;
      }
    }, {passive:false});

    modalImg.addEventListener('touchmove', e => {
      if (e.touches.length === 2) {
        e.preventDefault();
        const newDist = dist(e.touches[0], e.touches[1]);
        let s = initScale * (newDist / initDist);
        curScale = Math.min(4, Math.max(1, s));
        apply();
      } else if (e.touches.length === 1 && isPan) {
        curX = e.touches[0].clientX - startX;
        curY = e.touches[0].clientY - startY;
        apply();
      }
    }, {passive:false});

    modalImg.addEventListener('touchend', () => { isPan = false; });

    // Long press indicator + double tap, plus zoom button
    imgs.forEach(img => {
      const item = img.closest('.gallery-item');
      const indicator = item.querySelector('.image-indicator');
      const zoomBtn = item.querySelector('.zoom-btn');
      let timer;
      let lastTap = 0;

      img.addEventListener('touchstart', () => {
        timer = setTimeout(() => indicator.classList.add('visible'), 500);
      }, {passive:true});

      const clearIndicator = () => {
        clearTimeout(timer);
        indicator.classList.remove('visible');
      };

      img.addEventListener('touchend', e => {
        clearIndicator();
        const now = Date.now();
        if (now - lastTap < 300) {
          openModal(img.src, img.dataset.index);
        }
        lastTap = now;
      });

      img.addEventListener('touchcancel', clearIndicator);

      img.addEventListener('dblclick', e => {
        e.preventDefault();
        openModal(img.src, img.dataset.index);
      });

      if (zoomBtn) {
        zoomBtn.addEventListener('click', e => {
          e.stopPropagation();
          openModal(img.src, img.dataset.index);
        });
      }
    });

    // Back to Top hanya muncul jika gambar pertama tidak terlihat
    if ('IntersectionObserver' in window && firstItem && backToTopBtn) {
      const observer = new IntersectionObserver(entries => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            backToTopBtn.classList.remove('visible');
          } else {
            backToTopBtn.classList.add('visible');
          }
        });
      }, { threshold: 0.6 });
      observer.observe(firstItem);
    } else {
      // fallback: pakai scrollY
      window.addEventListener('scroll', () => {
        if (window.scrollY > 200) backToTopBtn.classList.add('visible');
        else backToTopBtn.classList.remove('visible');
      });
    }
  })();
  </script>
</body>
</html>
