<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <title>Asih Dwipa Incense - Price Katalog</title>
  <meta name="description" content="Katalog dupa Asih Dwipa ‚Äî koleksi dupa pilihan dengan aroma yang menenangkan, lembut, dan khas Bali. Temukan berbagai varian wewangian untuk relaksasi dan meditasi." />
  <meta name="keywords" content="dupa, incense, katalog dupa, aroma terapi, dupa bali, dupa wangi, asih dwipa" />

  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://gungsatya.github.io/asih-dwipa/">
  <meta property="og:title" content="Asih Dwipa Incense - Price Katalog">
  <meta property="og:description" content="Katalog dupa Asih Dwipa ‚Äî koleksi dupa pilihan dengan aroma yang menenangkan, lembut, dan khas Bali.">
  <meta property="og:image" content="/image/1.png">

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:url" content="https://gungsatya.github.io/asih-dwipa/">
  <meta name="twitter:title" content="Asih Dwipa Incense - Price Katalog">
  <meta name="twitter:description" content="Katalog dupa Asih Dwipa ‚Äî koleksi dupa pilihan dengan aroma yang menenangkan, lembut, dan khas Bali.">
  <meta name="twitter:image" content="/image/1.png">

  <!-- Favicon (emoji dupa) -->
  <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üïØÔ∏è</text></svg>">

  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    html, body {
      height: 100%;
      background: #fff;
      color: #333;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
    }

    .catalog {
      height: 100vh;
      overflow-y: auto;
      scroll-snap-type: y mandatory;
      -webkit-overflow-scrolling: touch;
    }

    .item {
      scroll-snap-align: start;
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      background: #fff;
    }

    .item img {
      width: 100%;
      height: 100%;
      object-fit: contain;
      object-position: center;
      background: #fff;
      touch-action: manipulation;
      transition: transform 0.25s ease-out;
    }

    .item img.zoomed {
      transform: scale(2);
      cursor: zoom-out;
    }

    .header {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      padding: 8px 12px;
      font-size: 14px;
      background: linear-gradient(to bottom, rgba(255,255,255,0.9), transparent);
      z-index: 20;
      text-align: center;
    }

    .nav-indicator {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      padding: 6px 12px 10px;
      background: linear-gradient(to top, rgba(255,255,255,0.9), transparent);
      z-index: 20;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 4px;
      font-size: 13px;
      color: #333;
    }

    .nav-count {
      opacity: 0.9;
    }

    .nav-dots {
      display: flex;
      gap: 6px;
      justify-content: center;
      flex-wrap: nowrap;
      max-width: 90vw;
      overflow-x: auto;
      padding-bottom: 2px;
    }

    .nav-dot {
      width: 7px;
      height: 7px;
      border-radius: 999px;
      border: 1px solid rgba(0,0,0,0.4);
      background: transparent;
      flex: 0 0 auto;
      transition: all 0.2s ease-out;
    }

    .nav-dot.active {
      background: #333;
      border-color: #333;
      transform: scale(1.3);
    }
  </style>
</head>

<body>
  <div class="header">
    
  </div>

  <div class="nav-indicator">
    <div class="nav-count" id="nav-count">1 / 15</div>
    <div class="nav-dots" id="nav-dots"></div>
  </div>

  <div class="catalog">
    <!-- Gambar katalog 1 sampai 15 -->
    <figure class="item"><img src="image/1.png" alt="Dupa Asih Dwipa 1"></figure>
    <figure class="item"><img src="image/2.png" alt="Dupa Asih Dwipa 2"></figure>
    <figure class="item"><img src="image/3.png" alt="Dupa Asih Dwipa 3"></figure>
    <figure class="item"><img src="image/4.png" alt="Dupa Asih Dwipa 4"></figure>
    <figure class="item"><img src="image/5.png" alt="Dupa Asih Dwipa 5"></figure>
    <figure class="item"><img src="image/6.png" alt="Dupa Asih Dwipa 6"></figure>
    <figure class="item"><img src="image/7.png" alt="Dupa Asih Dwipa 7"></figure>
    <figure class="item"><img src="image/8.png" alt="Dupa Asih Dwipa 8"></figure>
    <figure class="item"><img src="image/9.png" alt="Dupa Asih Dwipa 9"></figure>
    <figure class="item"><img src="image/10.png" alt="Dupa Asih Dwipa 10"></figure>
    <figure class="item"><img src="image/11.png" alt="Dupa Asih Dwipa 11"></figure>
    <figure class="item"><img src="image/12.png" alt="Dupa Asih Dwipa 12"></figure>
    <figure class="item"><img src="image/13.png" alt="Dupa Asih Dwipa 13"></figure>
    <figure class="item"><img src="image/14.png" alt="Dupa Asih Dwipa 14"></figure>
    <figure class="item"><img src="image/15.png" alt="Dupa Asih Dwipa 15"></figure>
  </div>

  <script>
    const catalog = document.querySelector('.catalog');
    const items = document.querySelectorAll('.item');
    const images = document.querySelectorAll('.catalog img');
    const dotsContainer = document.getElementById('nav-dots');
    const countLabel = document.getElementById('nav-count');
    const total = items.length;

    // Buat dot navigator
    const dots = [];
    for (let i = 0; i < total; i++) {
      const dot = document.createElement('span');
      dot.classList.add('nav-dot');
      if (i === 0) dot.classList.add('active');
      dot.dataset.index = i;
      dotsContainer.appendChild(dot);
      dots.push(dot);
    }

    dots.forEach(dot => {
      dot.addEventListener('click', () => {
        const index = Number(dot.dataset.index);
        const targetItem = items[index];
        catalog.scrollTo({
          top: targetItem.offsetTop,
          behavior: 'smooth'
        });
      });
    });

    function updateActiveSlide() {
      let closestIndex = 0;
      let minDiff = Infinity;
      const viewportCenter = window.innerHeight / 2;

      items.forEach((item, index) => {
        const rect = item.getBoundingClientRect();
        const itemCenter = rect.top + rect.height / 2;
        const diff = Math.abs(itemCenter - viewportCenter);
        if (diff < minDiff) {
          minDiff = diff;
          closestIndex = index;
        }
      });

      dots.forEach((dot, idx) => {
        dot.classList.toggle('active', idx === closestIndex);
      });
      countLabel.textContent = (closestIndex + 1) + ' / ' + total;
    }

    let scrollTimeout;
    catalog.addEventListener('scroll', () => {
      if (scrollTimeout) cancelAnimationFrame(scrollTimeout);
      scrollTimeout = requestAnimationFrame(updateActiveSlide);
    });

    updateActiveSlide();

    // DOUBLE-TAP ZOOM
    let lastTapTime = 0;
    images.forEach(img => {
      img.addEventListener('click', function () {
        const now = Date.now();
        if (now - lastTapTime < 300) {
          this.classList.toggle('zoomed');
        }
        lastTapTime = now;
      });
    });
  </script>
</body>
</html>
